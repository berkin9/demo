<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Checkout</title>
</head>
<body>
<h2>Checkout</h2>

<div th:if="${cartProducts != null}">
    <ul>
        <li th:each="entry : ${cartProducts}">
            <span th:text="${entry.key.name}"></span> -
            <span th:text="${entry.value}"></span> adet -
            <span th:text="${#numbers.formatDecimal(entry.key.price * entry.value, 1, 'POINT', 2, 'POINT')}"></span> ₺
        </li>
    </ul>
    <p>Total: <span th:text="${#numbers.formatDecimal(cartTotal, 1, 'POINT', 2, 'POINT')}"></span> ₺</p>
</div>

<form th:action="@{/orders/cart/confirm}" method="post">
    <h3>Payment Info</h3>
    <input type="text" name="cardNumber" placeholder="Card Number" required/><br/>
    <input type="text" name="expiry" placeholder="MM/YY" required/><br/>
    <input type="text" name="cvv" placeholder="CVV" required/><br/>
    <button type="submit">Pay & Order</button>
</form>

<a th:href="@{/orders/panel}">Back to Panel</a>
</body>
</html>
